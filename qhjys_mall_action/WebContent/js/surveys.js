window.SOP={config:{hostname:"partners.surveyon.com"},setProperties:function(a){this.props=a},runJSONPCallback:function(a){this.appendJSONPCallback(a)},runHTMLWidget:function(a){var c={};for(var b in a){c["sop_"+b]=a[b]}this.appendHTMLWidget(c)},appendJSONPCallback:function(a){this.props.el_id=a.el_id;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",this.getApiUrl("//"+this.config.hostname+"/api/v1_1/surveys/js"));window.document.body.appendChild(b)},appendHTMLWidget:function(c){if(!c.sop_width){c.sop_width="200"}var d=document.createElement("iframe");d.setAttribute("src",this.getApiUrl("//"+this.config.hostname+"/api/v1_1/surveys/html",c));d.setAttribute("border",0);d.setAttribute("hspace",0);d.setAttribute("vspace",0);d.setAttribute("marginheight",0);d.setAttribute("marginwidth",0);d.setAttribute("framespacing",0);d.setAttribute("frameborder",0);d.setAttribute("scrolling","no");d.setAttribute("width",c.sop_width);d.setAttribute("height",0);var b=/(?:surveyon\.com|researchpanelasia\.com)$/;var e=function(h,g){if(g<=0){return}h.setAttribute("height",g+2)};var a=function(g){if(!g.origin.match(b)){return}e(d,parseInt(g.data))};if(window.addEventListener){window.addEventListener("message",a,false);window.addEventListener("unload",function(g){window.removeEventListener("message",a,false);window.removeEventListener("unload",arguments.callee,false)},false)}else{if(window.attachEvent){window.attachEvent("onmessage",a);window.attachEvent("onunload",function(g){window.detachEvent("onmessage",a);window.detachEvent("onunload",arguments.callee)})}}var f=document.getElementById(c.sop_el_id);if(f){f.appendChild(d)}},getApiUrl:function(c,d){if(!d){d={}}var b=c+"?app_id="+this.props.app_id+"&app_mid="+this.props.app_mid+"&time="+this.props.time+"&sig="+this.props.sig;for(var a in d){b+="&"+a+"="+encodeURIComponent(d[a])}return b}};