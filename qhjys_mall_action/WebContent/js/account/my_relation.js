$(function(){$("#phonecode").fouce(function(){if($("#phonecode").val()==""){$("#phonecode").val("")}}).blur(function(){if($("#phonecode").val()==""){$("#phonecode").val("请输入手机收到的验证码")}})});function vifitAccount(){var e=$("#account").val();var b=$("#phoneNum").val();var d=$("#thirdtoken").val();var c=$("#thirdtokentime").val();if(e==""){alert("账号不能为空!");return false}var a=/^(?:13\d|15\d|17\d|18\d)\d{5}(\d{3}|\*{3})$/;if(!a.test(b)){alert("请输入正确的手机号码!");return false}$.ajax({type:"POST",url:"/managermall/account/verifyAccount.do",data:{username:e,phone:b,token:d,tokentime:c},success:function(f){if(f.message=="success"){$("#username").val(f.username);$("#phone").val(f.phone);closeWindow1();setCodeShow()}else{if(f.message=="timeerror"){closeWindow1();alert("本次验证操作超时！")}else{if(f.message=="accounterror"){closeWindow1();alert("验证账号错误!！")}else{if(f.message=="thirddayerror"){closeWindow1();alert("今日验证账号次数过多,请明日再试!！")}else{closeWindow1();alert("验证失败!！")}}}}}})}function vifitCode(){var c=$("#username").val();var a=$("#phone").val();var b=$("#phonecode").val();if(b.length!=6){alert("请输入正确的验证码!");return false}$.ajax({type:"POST",url:"/managermall/account/verifyCode.do",data:{username:c,phone:a,code:b},success:function(d){if(d.message=="success"){window.location.href=window.location.href}else{if(d.message=="codeerror"){alert("验证码错误！")}else{closeWindow2();alert("验证失败!！")}}}})}function setAccountShow(a){if(a==null||a<=0){return false}$.ajax({type:"POST",url:"/managermall/account/gettoken.do",data:{},success:function(b){if(b.issuccess=="success"){$("#thirdtoken").val(b.thirdtoken);$("#thirdtokentime").val(b.thirdtokentime);$("#setAccount").show()}else{alert("未知错误！")}}})}function setCodeShow(){$("#setCode").show()}function closeWindow1(){$("label[class=one1]").remove();$("#account").val("");$("#phoneNum").val("");$("#setAccount").hide()}function closeWindow2(){$("label[class=one1]").remove();$("#phonecode").val("");$("#setCode").hide()}function validate(b,e,c){$(b).next().remove();var a=$('<label class="one1" style="width:180px;">'+e+"</label>");var d=$(b).val().trim();if(d==""){$(b).after(a)}else{if($(b).val().length>c){e="长度不能大于"+c+"位！";a=$('<label class="one1" style="width:180px;">'+e+"</label>");$(b).after(a)}}};