jQuery.fn.fixedtableheader=function(e){var h=jQuery.extend({headerrowsize:1,highlightrow:!1,highlightclass:"highlight"},e);this.each(function(e){var a=$(this),b=a.find("tr:lt("+h.headerrowsize+")"),d="th";0==b.find(d).length&&(d="td");if(0<b.find(d).length){b.find(d).each(function(){$(this).css("width",$(this).width())});var c=a.clone().empty(),i=a.outerWidth(),g=a.offset().left,f=a.offset().top;c.attr("id","fixedtableheader"+e).css({position:"fixed",top:f,left:g}).append(b.clone()).width(i).hide().appendTo(a.parent());
a.parent().scroll(function(){c.css({position:"absolute",top:f,left:g});b.offset();a.offset().top<f-b.outerHeight()?c.show():c.hide()});$(window).resize(function(){c.outerWidth()!=a.outerWidth()&&(b.find(d).each(function(a){var b=$(this).width();$(this).css("width",b);c.find(d).eq(a).css("width",b)}),c.width(a.outerWidth()));c.css("left",a.offset().left)})}})};
